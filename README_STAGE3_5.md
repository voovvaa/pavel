# –≠–¢–ê–ü 3.5: –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –∞–Ω–∞–ª–∏–∑–∞

–û–±–Ω–æ–≤–ª—è–µ–º –∞–Ω–∞–ª–∏–∑ —á–∞—Ç–∞ –¥–ª—è –∏—Å–∫–ª—é—á–µ–Ω–∏—è –ø–µ—Ä–µ—Å–ª–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π –∏ —Ç–µ–≥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π.

## üéØ –ü—Ä–æ–±–ª–µ–º—ã –∫–æ—Ç–æ—Ä—ã–µ —Ä–µ—à–∞–µ–º:

### 1. –ü–µ—Ä–µ—Å–ª–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü–µ—Ä–µ—Å—ã–ª–∫–∏ –∏–∑ –¥—Ä—É–≥–∏—Ö –∫–∞–Ω–∞–ª–æ–≤ –∑–∞—Å–æ—Ä—è—é—Ç –∞–Ω–∞–ª–∏–∑ —á—É–∂–∏–º–∏ —Å—Ç–∏–ª—è–º–∏ —Ä–µ—á–∏
**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–∫–ª—é—á–∞–µ–º –ø–µ—Ä–µ—Å–ª–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–æ –æ—Å—Ç–∞–≤–ª—è–µ–º –æ—Ç–≤–µ—Ç—ã –Ω–∞ –Ω–∏—Ö (–æ–±—Å—É–∂–¥–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞)

### 2. –¢–µ–≥–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
**–ü—Ä–æ–±–ª–µ–º–∞:** @username –∑–∞—Å–æ—Ä—è—é—Ç –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–ª–æ–≤–∞ –∏ –∏—Å–∫–∞–∂–∞—é—Ç –∞–Ω–∞–ª–∏–∑ —Å—Ç–∏–ª—è
**–†–µ—à–µ–Ω–∏–µ:** –£–±–∏—Ä–∞–µ–º –≤—Å–µ —Ç–µ–≥–∏ –∏–∑ –∞–Ω–∞–ª–∏–∑–∞ —Å–ª–æ–≤, –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ–º –¥–ª—è —ç–º–æ–¥–∑–∏ –∏ –¥—Ä—É–≥–∏—Ö —Ü–µ–ª–µ–π

## üÜï –ß—Ç–æ –¥–æ–±–∞–≤–∏–ª–æ—Å—å:

### –ù–æ–≤—ã–µ –º–µ—Ç–æ–¥—ã –≤ TelegramParser:
- `extractCleanText()` - —Ç–µ–∫—Å—Ç –±–µ–∑ —Ç–µ–≥–æ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- `isForwardedMessage()` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Å–ª–∞–Ω–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π  
- `isReplyToForwarded()` - –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –ø–µ—Ä–µ—Å—ã–ª–∫–∏
- `filterMessagesForPatterns()` - —Å–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –¥–ª—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
- `extractUserTags()` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–≥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `getFilteringStats()` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏

### –£–ª—É—á—à–µ–Ω–Ω—ã–π –∞–Ω–∞–ª–∏–∑:
- –ò—Å–∫–ª—é—á–µ–Ω—ã –ø–µ—Ä–µ—Å–ª–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –∏–∑ –∞–Ω–∞–ª–∏–∑–∞ —Å—Ç–∏–ª—è
- –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã –æ—Ç–≤–µ—Ç—ã –Ω–∞ –ø–µ—Ä–µ—Å—ã–ª–∫–∏ (–≤–∞–∂–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç)
- –£–±—Ä–∞–Ω—ã —Ç–µ–≥–∏ @username –∏–∑ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö —Å–ª–æ–≤
- –†–∞—Å—à–∏—Ä–µ–Ω —Å–ø–∏—Å–æ–∫ —Å—Ç–æ–ø-—Å–ª–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö

### –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è:
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–æ
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
- –ü–æ–º–µ—á–∞–µ—Ç —á—Ç–æ –∞–Ω–∞–ª–∏–∑ —É–ª—É—á—à–µ–Ω–Ω—ã–π

## üîç –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è:

### –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–µ—Ä–µ—Å—ã–ª–æ–∫:
```typescript
// –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–æ–ª—è
if (message.forwarded_from) return true;

// –ü–∞—Ç—Ç–µ—Ä–Ω—ã –≤ —Ç–µ–∫—Å—Ç–µ
"–ü–µ—Ä–µ—Å–ª–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ", "Forwarded from", "–ü–µ—Ä–µ—Å–ª–∞–Ω–æ –æ—Ç"
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–≥–æ–≤:
```typescript
// –î–ª—è –∞–Ω–∞–ª–∏–∑–∞ —Å–ª–æ–≤ - —É–±–∏—Ä–∞–µ–º —Ç–µ–≥–∏
"–ø—Ä–∏–≤–µ—Ç @username –∫–∞–∫ –¥–µ–ª–∞" ‚Üí "–ø—Ä–∏–≤–µ—Ç –∫–∞–∫ –¥–µ–ª–∞"

// –î–ª—è —ç–º–æ–¥–∑–∏ - –æ—Å—Ç–∞–≤–ª—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª  
"–∫–ª–∞—Å—Å–Ω–æ @john üòÇ" ‚Üí —ç–º–æ–¥–∑–∏ "üòÇ" —É—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è
```

### –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã:
```typescript
// –ü–µ—Ä–µ—Å—ã–ª–∫–∞ - –∏—Å–∫–ª—é—á–∞–µ—Ç—Å—è
[–ü–µ—Ä–µ—Å–ª–∞–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –∫–∞–Ω–∞–ª–∞ X]

// –û—Ç–≤–µ—Ç –Ω–∞ –ø–µ—Ä–µ—Å—ã–ª–∫—É - –≤–∫–ª—é—á–∞–µ—Ç—Å—è
"—Å–æ–≥–ª–∞—Å–µ–Ω —Å –∞–≤—Ç–æ—Ä–æ–º" ‚Üí –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –∞–Ω–∞–ª–∏–∑
```

## üìä –ù–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:

```
üîç –ö–ê–ß–ï–°–¢–í–û –î–ê–ù–ù–´–•:
‚îú‚îÄ –í—Å–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏–π: 15,234
‚îú‚îÄ –í–∞–ª–∏–¥–Ω—ã—Ö: 14,892  
‚îú‚îÄ –ü–µ—Ä–µ—Å–ª–∞–Ω–Ω—ã—Ö (–∏—Å–∫–ª—é—á–µ–Ω–æ): 1,256
‚îú‚îÄ –û—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –ø–µ—Ä–µ—Å—ã–ª–∫–∏ (—Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ): 89
‚îú‚îÄ –° —Ç–µ–≥–∞–º–∏ @username: 2,431
‚îú‚îÄ –î–ª—è –∞–Ω–∞–ª–∏–∑–∞: 13,725
‚îî‚îÄ –î–ª—è –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤: 13,814

üìà –ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö: 90.1% (—á–µ–º –≤—ã—à–µ, —Ç–µ–º –ª—É—á—à–µ)
```

## üöÄ –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:

### –û–±—ã—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑ (–∫–∞–∫ —Ä–∞–Ω—å—à–µ):
```bash
bun run analyze result.json
```

–¢–µ–ø–µ—Ä—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —É–ª—É—á—à–µ–Ω–Ω–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è!

### –°–æ–∑–¥–∞–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤:
```bash
bun run patterns result_analysis.json  
```

–ü–∞—Ç—Ç–µ—Ä–Ω—ã —Ç–æ–∂–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —É–ª—É—á—à–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.

## ‚úÖ –ß—Ç–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –≠–¢–ê–ü–ï 3.5:

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏:
- **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ –∞–Ω–∞–ª–∏–∑–∞
- **–ü–µ—Ä–µ—Å—ã–ª–∫–∏ –∏—Å–∫–ª—é—á–µ–Ω—ã** –∏–∑ —Ç–æ–ø–∞ —Å–ª–æ–≤
- **–¢–µ–≥–∏ @username –Ω–µ –ø–æ–ø–∞–ª–∏** –≤ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–ª–æ–≤–∞
- **–û—Ç–≤–µ—Ç—ã –Ω–∞ –ø–µ—Ä–µ—Å—ã–ª–∫–∏ –≤–∫–ª—é—á–µ–Ω—ã** –≤ –ø–∞—Ç—Ç–µ—Ä–Ω—ã

### 2. –ö–∞—á–µ—Å—Ç–≤–æ –∞–Ω–∞–ª–∏–∑–∞:
- **–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–ª–æ–≤–∞** —Å—Ç–∞–ª–∏ –±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–º–∏  
- **–£–±—Ä–∞–ª–∏—Å—å –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã** —Ç–∏–ø–∞ –∏–º–µ–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–°—Ç–∏–ª—å —á–∞—Ç–∞** –æ—Ç—Ä–∞–∂–∞–µ—Ç—Å—è —Ç–æ—á–Ω–µ–µ
- **–°—Ä–µ–¥–Ω—è—è –¥–ª–∏–Ω–∞** —Å—á–∏—Ç–∞–µ—Ç—Å—è –±–µ–∑ —Ç–µ–≥–æ–≤

### 3. –ü–∞—Ç—Ç–µ—Ä–Ω—ã:
- **–ö–∞—á–µ—Å—Ç–≤–æ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤** —É–ª—É—á—à–∏–ª–æ—Å—å
- **–ò—Å–∫–ª—é—á–µ–Ω—ã —á—É–∂–∏–µ —Å—Ç–∏–ª–∏** –∏–∑ –ø–µ—Ä–µ—Å—ã–ª–æ–∫
- **–°–æ—Ö—Ä–∞–Ω–µ–Ω—ã –æ–±—Å—É–∂–¥–µ–Ω–∏—è** –ø–µ—Ä–µ—Å–ª–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
- **–ß–∏—â–µ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞** –¥–ª—è —Ç—Ä–∏–≥–≥–µ—Ä–æ–≤

### –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è:
- **–ö–∞—á–µ—Å—Ç–≤–æ –¥–∞–Ω–Ω—ã—Ö 80%+** –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —á–∞—Ç–æ–≤
- **–†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ —Å–ª–æ–≤–∞** –≤ —Ç–æ–ø-–ª–∏—Å—Ç–µ (–±–µ–∑ —Ç–µ–≥–æ–≤ –∏ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤) 
- **–ú–µ–Ω—å—à–µ —à—É–º–∞** –≤ –ø–∞—Ç—Ç–µ—Ä–Ω–∞—Ö –ø–æ–≤–µ–¥–µ–Ω–∏—è
- **–ë–æ–ª–µ–µ —Ç–æ—á–Ω—ã–π —Å—Ç–∏–ª—å** –æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞

## üîß –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:

- ‚úÖ **–ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å** - –≤—Å–µ —Å—Ç–∞—Ä—ã–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ** - –Ω–µ –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
- ‚úÖ **–¢–µ –∂–µ —Ñ–∞–π–ª—ã —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å  
- ‚úÖ **–†–∞–±–æ—Ç–∞–µ—Ç —Å –≠—Ç–∞–ø–æ–º 3** - –ø–∞—Ç—Ç–µ—Ä–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–ª—É—á—à–µ–Ω—ã

## üéØ –†–µ–∑—É–ª—å—Ç–∞—Ç:

–ü–æ—Å–ª–µ –≠–¢–ê–ü–ê 3.5 —É –≤–∞—Å –±—É–¥–µ—Ç:
- **–ë–æ–ª–µ–µ —á–∏—Å—Ç—ã–π –∞–Ω–∞–ª–∏–∑** –±–µ–∑ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç–æ–≤ –ø–µ—Ä–µ—Å—ã–ª–æ–∫
- **–†–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã–µ –ø–æ–ø—É–ª—è—Ä–Ω—ã–µ —Å–ª–æ–≤–∞** –±–µ–∑ —Ç–µ–≥–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–¢–æ—á–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –ø–æ–≤–µ–¥–µ–Ω–∏—è** —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —á–∞—Ç–∞
- **–ü–æ–Ω–∏–º–∞–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö** —á–µ—Ä–µ–∑ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É

–ì–µ–π—Å–∞–Ω–¥—Ä –ö—É–ª–æ–≤–∏—á —Ç–µ–ø–µ—Ä—å –∏–∑—É—á–∞–µ—Ç **–Ω–∞—Å—Ç–æ—è—â–∏–π —Å—Ç–∏–ª—å —á–∞—Ç–∞**, –∞ –Ω–µ —Å–º–µ—Å—å —Å –ø–µ—Ä–µ—Å–ª–∞–Ω–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º –∏–∑ –¥—Ä—É–≥–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤!